{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","newSearch","onChange","handleSearch","PersonForm","onSubmit","addPerson","newName","handleChangeName","newNumber","handleChangeNumber","type","Persons","personsToShow","map","person","name","number","onClick","window","confirm","deletePerson","id","confirmDelete","Notification","notification","message","className","baseUrl","axios","get","then","response","data","newPerson","post","delete","console","log","put","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setNotification","length","filter","toLowerCase","includes","useEffect","personsService","event","text","target","preventDefault","existPerson","personToUpdate","returnedPerson","setTimeout","catch","error","newPersons","p","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69895077.chunk.js","sourcesContent":["export const Filter = (props)=>{\r\n    return(<div>filter shown with: <input value={props.newSearch} onChange={props.handleSearch}/>\r\n        </div>)\r\n    \r\n}","export const PersonForm=(props)=>{\r\n    return(\r\n        <form onSubmit={props.addPerson}>\r\n        \r\n        <div>\r\n          name: <input value={props.newName} onChange={props.handleChangeName} />\r\n        </div>\r\n        <div>\r\n          number: <input value={props.newNumber} onChange={props.handleChangeNumber}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}","\r\n\r\nexport const  Persons=(props) =>{\r\n  const confirmDelete=(person)=>{\r\n    const res=window.confirm(`Delete ${person.name}?`)\r\n    if(res){\r\n      props.deletePerson(person.id)\r\n    }\r\n  }\r\n    return( \r\n    <div>\r\n        <ul>\r\n          {props.personsToShow.map((person)=>(  \r\n            <div key={person.name}>\r\n             <li> <p>{person.name} {person.number}</p>\r\n              <button onClick={()=>{confirmDelete(person)}}>Delete</button> </li>\r\n              </div> \r\n          ))}\r\n        </ul>\r\n    </div>)\r\n   \r\n\r\n}","export const Notification=({notification})=>{\r\n    if(notification.message===null || notification.name===null){\r\n        return null\r\n    }\r\n    return(<>\r\n        <div className={notification.name}>\r\n          <h2>{notification.message}</h2>\r\n        </div>\r\n        \r\n    </>)\r\n}","import axios from \"axios\"\r\n//const baseUrl=\"http://localhost:3001/api/persons\"\r\nconst baseUrl=\"https://serene-beyond-02874.herokuapp.com/api/persons\"\r\nconst getPersons=()=>{\r\n   const request = axios.get(baseUrl)\r\n\r\n   return request.then(response=>response.data)\r\n      \r\n\r\n}\r\nconst addPerson=(newPerson)=>{\r\n    const request= axios.post(baseUrl,newPerson)\r\n    return request.then(response=>response.data)\r\n    \r\n}\r\n\r\nconst deletePerson=(id)=>{\r\n    const request= axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response=>response.data)\r\n}\r\nconst updatePerson=(id,newPerson)=>{\r\n    console.log(id,newPerson)\r\n    const request= axios.put(`${baseUrl}/${id}`,newPerson)\r\n    return request.then(response=>response.data) \r\n}\r\nexport default {getPersons,addPerson,deletePerson,updatePerson}","import React, { useState,useEffect } from 'react'\nimport { Filter } from './Filter'\nimport { PersonForm } from './PersonForm'\nimport { Persons } from './Persons'\nimport { Notification } from './Notification'\nimport personsService from \"./services/persons\"\nconst App = () => {\n  const [persons, setPersons] = useState([\n    \n  ])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber]=useState('')\n  const [ newSearch, setNewSearch]=useState('')\n  const [notification,setNotification]=useState({\"message\":null,\"name\":null})\n  const personsToShow= newSearch.length === 0 ? persons : persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase())   )\n  useEffect(()=>{\n    personsService\n    .getPersons()\n    .then(data=>setPersons(data))\n  },[])\n  const addPerson= (event)=>{\n    //console.log(\"Submit Form\")\n    event.preventDefault();\n    const existPerson=persons.filter(person=>person.name===newName)\n    const newPerson={\n      name:newName,\n      number:newNumber\n\n    }\n    if(existPerson.length>0){\n      const res=window.confirm(`${newName} is already added to phonebook,replace the old number with a new one?` )\n      if(res){\n       // console.log(\"Exist Person\",existPerson)\n       const [personToUpdate]=existPerson\n       console.log(\"Person to update\",personToUpdate)\n        personsService\n        .updatePerson(personToUpdate.id,newPerson)\n        .then(returnedPerson=>{\n          setPersons(persons.map(person=>person.id!==personToUpdate.id? person:returnedPerson))\n          setNotification({\"message\":`${newName} has been updated correctly`,\"name\":\"success\"})\n          setTimeout(()=>{setNotification({\"message\":null,\"name\":null})},5000)\n        })\n        .catch(error=>console.log(error))\n\n      }\n    }\n    else{\n      \n      personsService\n      .addPerson(newPerson)\n      .then(data=>{\n        console.log(data)\n        setPersons([...persons,data])\n      })\n  \n      \n      setNewName(\"\")\n      setNewNumber(\"\")\n    }\n    \n\n  }\n  const deletePerson=(id)=>{\n    personsService\n    .deletePerson(id)\n    .then((response)=>{\n      const newPersons=persons.filter(p=>p.id!==id)\n      setPersons(newPersons)\n    })\n\n  }\n  const handleChangeName=(event)=>{\n    setNewName(event.target.value)\n\n  }\n  const handleChangeNumber=(event)=>{\n    setNewNumber(event.target.value)\n  }\n  const handleSearch=(event)=>{\n    const text=event.target.value\n    setNewSearch(text)\n\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification}/>\n      <Filter newSearch={newSearch} handleSearch={handleSearch} />\n      <h2>Add a new</h2>\n      <PersonForm addPerson={addPerson} newName={newName} handleChangeName={handleChangeName} newNumber={newNumber} handleChangeNumber={handleChangeNumber} />\n      <h2>Numbers</h2>\n      <Persons personsToShow={personsToShow} deletePerson={deletePerson} />\n      ...\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n \n    <App />,\n  \n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}